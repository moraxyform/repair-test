$(document).ready(function(){var e=$(".modal"),n=$('[data-toggle="modal"]'),r=$(".modal__close");n.on("click",function(){e.toggleClass("modal--visible")}),r.on("click",function(){e.toggleClass("modal--visible")}),$(e).on("click",function(n){n.target===this&&e.toggleClass("modal--visible")}),$(document).on("keyup",function(n){27===n.keyCode&&e.removeClass("modal--visible")});new Swiper(".swiper-container",{loop:!0,pagination:{el:".swiper-pagination",type:"bullets"},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}});var t=$(".swiper-button-next"),o=$(".swiper-button-prev"),a=$(".swiper-pagination");t.css("left",o.width()+10+a.width()+10),a.css("left",o.width()+10),(new WOW).init(),$(".modal__form").validate({errorElement:"div",errorClass:"invalid",errorPlacement:function(e,n){if("checkbox"==n.attr("type"))return n.next("label").append(e);e.insertAfter($(n))},rules:{userName:{required:!0,minlength:2,maxlength:10},userPhone:{minlength:10,required:!0},policyCheckbox:"required",userEmail:{required:!0,email:!0}},messages:{userName:{required:"Поле ввода имени - обязательное",minlength:"Имя должно иметь не меньше двух символов",maxlength:"Имя должно иметь не больше 15 символов"},userPhone:{required:"Поле ввода номера телефона - обязательное",minlength:"Введите полностью номер телефона"},policyCheckbox:"Подтвердите соглашение",userEmail:{required:"Поле ввода email - обязательное",email:"Название почты должно выглядеть примерно так: name@domain.com"}},submitHandler:function(n){$.ajax({type:"POST",url:"send.php",data:$(n).serialize(),success:function(r){console.log("Ajax сработал. Ответ сервера:"+r),$(n)[0].reset(),e.removeClass("modal--visible"),$(".js-overlay-thank-you").fadeIn(),$(this).find("input").val("")},error:function(e){console.error("ошибка запроса"+responce)}})}}),$(".js-close-thank-you").click(function(){$(".js-overlay-thank-you").fadeOut()}),$(document).mouseup(function(e){var n=$(".popup");e.target!=n[0]&&0===n.has(e.target).length&&$(".js-overlay-thank-you").fadeOut()}),$(".control__form").validate({errorElement:"div",errorClass:"invalid",errorPlacement:function(e,n){if("checkbox"==n.attr("type"))return n.next("label").append(e);e.insertAfter($(n))},rules:{userName:{required:!0,minlength:2,maxlength:15},userPhone:{required:!0,minlength:10},policyCheckbox:"required"},messages:{userName:{required:"Поле ввода имени - обязательное",minlength:"Имя должно иметь не меньше двух символов",maxlength:"Имя должно иметь не больше 15 символов"},userPhone:{required:"Поле ввода номера телефона - обязательное",minlength:"Введите полностью номер телефона"},policyCheckbox:"Подтвердите соглашение"},submitHandler:function(n){$.ajax({type:"POST",url:"send.php",data:$(n).serialize(),success:function(r){console.log("Ajax сработал. Ответ сервера:"+r),$(n)[0].reset(),e.removeClass("modal--visible"),$(".js-overlay-thank-you").fadeIn(),$(this).find("input").val("")},error:function(e){console.error("ошибка запроса"+responce)}})}}),$(".js-close-thank-you").click(function(){$(".js-overlay-thank-you").fadeOut()}),$(document).mouseup(function(e){var n=$(".popup");e.target!=n[0]&&0===n.has(e.target).length&&$(".js-overlay-thank-you").fadeOut()}),$(".footer__form").validate({errorElement:"div",errorClass:"invalid",errorPlacement:function(e,n){if("checkbox"==n.attr("type"))return n.next("label").append(e);e.insertAfter($(n))},rules:{userName:{required:!0,minlength:2,maxlength:15},userPhone:{required:!0,minlength:10},policyCheckbox:"required",userQuestion:"required",userEmail:{required:!0,email:!0}},messages:{userName:{required:"Поле ввода имени - обязательное",minlength:"Имя должно иметь не меньше двух символов",maxlength:"Имя должно иметь не больше 15 символов"},userPhone:{required:"Поле ввода номера телефона - обязательное",minlength:"Введите полностью номер телефона"},policyCheckbox:"Подтвердите соглашение",userQuestion:"Задайте свой вопрос",userEmail:{required:"Поле ввода email - обязательное",email:"Название почты должно выглядеть примерно так: name@domain.com"}},submitHandler:function(n){$.ajax({type:"POST",url:"send.php",data:$(n).serialize(),success:function(r){console.log("Ajax сработал. Ответ сервера:"+r),$(n)[0].reset(),e.removeClass("modal--visible"),$(".js-overlay-thank-you").fadeIn(),$(this).find("input").val("")},error:function(e){console.error("ошибка запроса"+responce)}})}}),$(".js-close-thank-you").click(function(){$(".js-overlay-thank-you").fadeOut()}),$(document).mouseup(function(e){var n=$(".popup");e.target!=n[0]&&0===n.has(e.target).length&&$(".js-overlay-thank-you").fadeOut()}),$("[type=tel]").mask("+7(000) 00-00-000",{placeholder:"Ваш номер телефона:"}),ymaps.ready(function(){var e=new ymaps.Map("map",{center:[47.244729,39.723187],zoom:9},{searchControlProvider:"yandex#search"}),n=(ymaps.templateLayoutFactory.createClass('<div style="color: #FFFFFF; font-weight: bold;">$[properties.iconContent]</div>'),new ymaps.Placemark(e.getCenter(),{hintContent:"Наш офис",balloonContent:"Вход со двора"},{iconLayout:"default#image",iconImageHref:"img/marker.svg",iconImageSize:[30,42],iconImageOffset:[-5,-38]}));e.geoObjects.add(n)})});